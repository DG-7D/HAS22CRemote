# HA-S22C リモコン解析

## 赤外線プロトコル

NECプロトコルの拡張?

- T: 562 μs
- リーダーコード: H 16T (8992 μs), L 8T (4496 μs)
- データ0: H 1T (562 μs), L 1T (562 μs)
- データ1: H 1T (562 μs), L 3T (1686 μs)
- 終端: H 1T (562 μs), L ∞

## データ

送信はバイト0、ビット0から

| Byte | Bit 7 | Bit 6 | Bit 5 | Bit 4 | Bit 3 | Bit 2 | Bit 1 | Bit 0 (先頭) |
|------|-------|-------|-------|-------|-------|-------|-------|-------|
| 0 | 0 | 1 | 1 | 0 | 0 | 0 | 0 | 0 |
| 1 | 0 | 0 | 1 | 1 | 1 | 0 | 0 | 0 |
| 2 | 0 | 0 | 0 | 1 | 0 | 0 | 1 | 1 |
| 3 | 0 | 0 | 0 | 0 | モード[2] | [1] | [0] | 運転 |
| 4 | 0 | 風量[6] | [5] | [4] | [3] | [2] | [1] | [0] |
| 5 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 6 | 温度A[7] | [6] | [5] | [4] | [3] | [2] | [1] | [0] |
| 7 | 0 | 0 | 0 | 0 | 0 | 温度B[2] | [1] | [0] |
| 8 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 9 | 0 | 0 | 0 | 0 | 0 | おやすみ | 0 | 0 |
| 10 | パワーセーブ | 0 | 0 | 時[4] | [3] | [2] | [1] | [0] |
| 11 | 0 | 0 | 分[5] | [4] | [3] | [2] | [1] | [0] |
| 12 | 0 | 内部クリーン | 切タイマ | 切時[4] | [3] | [2] | [1] | [0] |
| 13 | 0 | 0 | 切分[5] | [4] | [3] | [2] | [1] | [0] |
| 14 | 0 | 0 | 入タイマ | 入時[4] | [3] | [2] | [1] | [0] |
| 15 | 0 | 0 | 入分[5] | [4] | [3] | [2] | [1] | [0] |
| 16 | 0 | 0 | 0 | 0 | 風向上下 | 0 | 0 | 0 |
| 17 | 0 | 0 | 0 | 0 | 0 | 風向左右[1] | [0] | 1 |
| 18 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 19 | 0 | 0 | 0 | 押下ボタン[4] | [3] | [2] | [1] | [0] |
| 20 | 0 | 0 | 点検コード[5] | [4] | [3] | [2] | [1] | [0] |
| 21 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 22 | チェックサム[7] | [6] | [5] | [4] | [3] | [2] | [1] | [0] |

### 運転

| 0 | 意味 |
|------|------|
| 0 | 停止 |
| 1 | 運転 |

### モード

| 2 | 1 | 0 | 意味 |
|---|---|---|------|
| 0 | 0 | 0 | 暖房 |
| 0 | 0 | 1 | 自動 |
| 0 | 1 | 0 | 冷房 |
| 0 | 1 | 1 | 除湿 |
| 1 | 0 | 0 | 送風 |

### 風量

| 6 | 5 | 4 | 3 | 2 | 1 | 0 | 数値 | 意味 |
|---|---|---|---|---|---|---|----|------|
| 0 | 0 | 0 | 0 | 0 | 0 | 1 | 1 | しずか |
| 0 | 0 | 0 | 1 | 0 | 1 | 0 | 10 | 1 |
| 0 | 1 | 0 | 1 | 1 | 0 | 1 | 45 | 2 |
| 1 | 0 | 0 | 0 | 0 | 0 | 1 | 65 | 3 |
| 1 | 0 | 1 | 1 | 0 | 1 | 0 | 90 | 4 |
| 1 | 1 | 0 | 0 | 1 | 0 | 0 | 100 | パワフル |
| 1 | 1 | 1 | 1 | 1 | 1 | 1 | 127 | 自動 |

### 温度A

冷房、暖房の温度。`0`(16.0 °C)から`140`(30.0 °C)まで、`5`(0.5 °C)刻み。

| 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 | 数値 | 温度 | 他 |
|---|---|---|---|---|---|---|---|----|------|---|
| 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |   0 | 16.0 | |
| 0 | 0 | 0 | 0 | 0 | 1 | 0 | 1 |   5 | 16.5 | |
| 0 | 0 | 0 | 1 | 1 | 1 | 1 | 0 |  30 | 19.0 | 送風 |
| 0 | 1 | 0 | 1 | 1 | 0 | 1 | 0 |  90 | 25.0 | 自動/除湿 |
| 1 | 0 | 0 | 0 | 1 | 1 | 0 | 0 | 140 | 30.0 | |

### 温度B

自動、除湿の温度。

| 2 | 1 | 0 | 温度 | 他 |
|---|---|---|------|---|
| 1 | 1 | 0 | -2 ||
| 1 | 0 | 1 | -1 ||
| 0 | 0 | 0 | 標準 | 冷房/暖房/送風 |
| 0 | 0 | 1 | +1 ||
| 0 | 1 | 0 | +2 || 

### おやすみ

| 0 | 意味 |
|---|------|
| 0 | おやすみモード切 |
| 1 | おやすみモード入 |

### パワーセーブ

| 0 | 意味 |
|---|------|
| 0 | パワーセーブ切 |
| 1 | パワーセーブ入 |

### 内部クリーン

冷房、除湿時のみ入になり、自動、暖房、送風時は直前の状態によらず切になる。

| 0 | 意味 |
|---|------|
| 0 | 内部クリーン切 |
| 1 | 内部クリーン入 |

### 現在時刻、タイマ時刻

#### 時

おそらく0時から23時まで。

| 4 | 3 | 2 | 1 | 0 | 数値 (時) |
|---|---|---|---|---|----|
| 0 | 0 | 0 | 0 | 0 | 0 | 0時 |
| 1 | 0 | 1 | 1 | 1 | 23 | 23時 |

#### 分

おそらく0分から59分まで。

| 5 | 4 | 3 | 2 | 1 | 0 | 数値 (分) |
|---|---|---|---|---|---|----|
| 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 1 | 1 | 1 | 0 | 1 | 1 | 59 |

### 風向上下

| 0 | 意味 |
|---|------|
| 0 | 自動 |
| 1 | 停止 |

### 風向左右

| 1 | 0 | 意味 |
|---|---|------|
| 0 | 1 | 自動 |
| 1 | 0 | 停止 |

### 押下ボタン

| 4 | 3 | 2 | 1 | 0 | 意味 |
|---|---|---|---|---|------|
| 0 | 0 | 0 | 0 | 0 | 除湿、送風、タイマ取消、パワーセーブ(入切取消長押し) |
| 0 | 0 | 0 | 0 | 1 | 停止 |
| 0 | 0 | 0 | 1 | 0 | 温度+、温度- |
| 0 | 0 | 0 | 1 | 1 | おやすみ |
| 0 | 0 | 1 | 0 | 1 | 入タイマ |
| 0 | 0 | 1 | 1 | 0 | 冷房、暖房 |
| 0 | 0 | 1 | 1 | 1 | 風向上下 |
| 0 | 1 | 0 | 0 | 0 | 風向左右 |
| 0 | 1 | 1 | 0 | 0 | ECO |
| 1 | 0 | 0 | 0 | 1 | 風量 |
| 1 | 0 | 1 | 1 | 1 | 自動 |
| 1 | 1 | 0 | 0 | 0 | 内部クリーン、解凍洗浄(内部クリーン長押し) |
| 1 | 1 | 1 | 0 | 1 | 切タイマ |

内部クリーンと解凍洗浄の信号は同じで、運転停止中なら解凍洗浄が開始される。

### 点検コード

`1`から`49`まで。

| 5 | 4 | 3 | 2 | 1 | 0 | 数値 (コード) |
|---|---|---|---|---|---|----------------|
| 0 | 0 | 0 | 0 | 0 | 0 | なし |
| 0 | 0 | 0 | 0 | 0 | 1 | 01 |
| 1 | 1 | 0 | 0 | 0 | 1 | 49 |

「取消」長押しで1つづつ送信される。取扱説明書では「00」でも送信される(応答がある)とされ、リモコンの表示も「00」から始まるが、このとき信号は送信されない。

### チェックサム

バイト3からバイト21までのビットごとのXOR。